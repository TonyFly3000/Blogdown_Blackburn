con$insert(mtcars)
stopifnot(con$count() == nrow(mtcars))
# Query data
mydata <- con$find()
stopifnot(all.equal(mydata, mtcars))
con$drop()
View(mydata)
library(ggplot2)
data001=mtcars
names(data001) = gsub(" ","",names(data001))
names(data001)
my_collection = mongo(collection = "mtcars", db = "mongo_db") # create connection, database and collection
my_collection$insert(data001)
library(mongolite)
m <- mongo(collection = "diamonds")
blogdown:::new_post_addin()
library(cranlogs)
library(dplyr)
library(ggplot2)
library(ggthemes)
library(plotly)
library(lubridate)
library(jsonlite)
# Make start_day and end_day of each month
start_day=seq(as.Date("2016-01-01"), as.Date("2018-12-31"), by="month")
day_df=as.data.frame(start_day)
day_df=day_df%>%mutate(end_day=floor_date(as.Date(start_day), "month")+ months(1)-1)
# download each month total download amount
all_day_df=c()
for (row in 1:nrow(day_df)){
start_day <- day_df[row, "start_day"]
end_day  <- day_df[row, "end_day"]
url=paste0('https://cranlogs.r-pkg.org/downloads/total/',start_day,':',end_day,'/R')
data <- fromJSON(url)
all_day_df=rbind(all_day_df,data)
}
# summary the data
all_day_df=all_day_df%>%mutate(year=year(start),month=month(start),day=day(start))
all_day_df=all_day_df%>%group_by(year,month)%>%summarise(downloads=sum(downloads))
# plot data
p=plot_ly(data=all_day_df,y=~downloads,x=~month
,color = ~as.factor(year)
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = 'R software download')
View(day_df)
View(all_day_df)
View(all_day_df)
library(cranlogs)
library(dplyr)
library(ggplot2)
library(ggthemes)
library(plotly)
library(lubridate)
library(jsonlite)
# Make start_day and end_day of each month
start_day=seq(as.Date("2016-01-01"), as.Date("2018-12-31"), by="month")
day_df=as.data.frame(start_day)
day_df=day_df%>%mutate(end_day=floor_date(as.Date(start_day), "month")+ months(1)-1)
# download each month total download amount
all_day_df=c()
for (row in 1:nrow(day_df)){
start_day <- day_df[row, "start_day"]
end_day  <- day_df[row, "end_day"]
url=paste0('https://cranlogs.r-pkg.org/downloads/total/',start_day,':',end_day,'/R')
data <- fromJSON(url)
all_day_df=rbind(all_day_df,data)
}
library(cranlogs)
library(dplyr)
library(ggplot2)
library(ggthemes)
library(plotly)
library(lubridate)
library(jsonlite)
# Make start_day and end_day of each month
start_day=seq(as.Date("2016-01-01"), as.Date("2018-12-31"), by="month")
day_df=as.data.frame(start_day)
day_df=day_df%>%mutate(end_day=floor_date(as.Date(start_day), "month")+ months(1)-1)
# download each month total download amount
all_day_df=c()
for (row in 1:nrow(day_df)){
start_day <- day_df[row, "start_day"]
end_day  <- day_df[row, "end_day"]
url=paste0('https://cranlogs.r-pkg.org/downloads/total/',start_day,':',end_day,'/R')
data <- fromJSON(url)
all_day_df=rbind(all_day_df,data)
}
blogdown:::serve_site()
cran_top_downloads("last-week")
R_download=cran_downloads( packages='Rcpp',from='2017-01-01',to='2018-12-31')
R_download002=R_download%>%mutate(year=year(date),month=month(date),day=day(date)
)%>%group_by(year,month)%>%summarise(downloads=sum(count))
glimpse(R_download002)
p=plot_ly(data=R_download002,y=~count,x=~month
,color = ~as.factor(year)
,type = 'scatter', mode = 'lines+markers')
p
glimpse(R_download002)
p=plot_ly(data=R_download002,y=~downloads,x=~month
,color = ~as.factor(year)
,type = 'scatter', mode = 'lines+markers')
p
glimpse(R_download)
R_download=cran_downloads( packages='ggplot2',from='2017-01-01',to='2018-12-31')
glimpse(R_download)
R_download002=R_download%>%mutate(year=year(date),month=month(date),day=day(date)
)%>%group_by(year,month)%>%summarise(downloads=sum(count))
glimpse(R_download002)
p=plot_ly(data=R_download002,y=~downloads,x=~month
,color = ~as.factor(year)
,type = 'scatter', mode = 'lines+markers')
p
R_download=cran_downloads( packages='ggplot2',from='2016-01-01',to='2018-12-31')
glimpse(R_download)
R_download002=R_download%>%mutate(year=year(date),month=month(date),day=day(date)
)%>%group_by(year,month)%>%summarise(downloads=sum(count))
glimpse(R_download002)
p=plot_ly(data=R_download002,y=~downloads,x=~month
,color = ~as.factor(year)
,type = 'scatter', mode = 'lines+markers')
p
cran_top_downloads("last-week")
install.packages('ggplot2')
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
library(cranlogs)
library(dplyr)
library(plotly)
library(cranlogs)
library(dplyr)
library(plotly)
library(lubridate)
# downlaod data
R_download=cran_downloads( packages='ggplot2',from='2016-01-01',to='2018-12-31')
# data summary
R_download002=R_download%>%mutate(year=year(date),month=month(date),day=day(date))%>%
group_by(year,month)%>%summarise(downloads=sum(count))
# plot
p=plot_ly(data=R_download002,y=~downloads,x=~month
,color = ~as.factor(year)
,type = 'scatter', mode = 'lines+markers')
p
library(cranlogs)
library(dplyr)
library(plotly)
library(lubridate)
cran_top_downloads("last-week")
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
servr::daemon_stop("2267816180520")
blogdown:::serve_site()
servr::daemon_stop("2267816179832")
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
library(cranlogs)
library(dplyr)
library(plotly)
library(lubridate)
# downlaod data
R_download=cran_downloads( packages='ggplot2',from='2016-01-01',to='2018-12-31')
# data summary
R_download002=R_download%>%mutate(year=year(date),month=month(date),day=day(date))%>%
group_by(year,month)%>%summarise(downloads=sum(count))
# plot
p=plot_ly(data=R_download002,y=~downloads,x=~month
,color = ~as.factor(year)
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = 'ggplot2 download')
blogdown:::update_meta_addin()
colourpicker:::plotHelperAddin()
blogdown:::serve_site()
servr::daemon_stop("2075707295976")
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
blogdown:::serve_site()
# load data
country002=read.csv('country002.csv')
country003=country002%>%group_by(country)%>%summarise(downloads=sum(downloads))
# load data
country002=read.csv('country002.csv')
p=plot_ly(data=country002,y=~downloads,x=~month
,color = ~country
,type = 'scatter', mode = 'lines+markers')
library(dplyr)
library(plotly)
library(lubridate)
# load data
version002=read.csv('version002.csv')
p=plot_ly(data=version002,y=~downloads,x=~month
,color = ~version
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume by version')
# load data
country002=read.csv('country002.csv')
p=plot_ly(data=country002,y=~downloads,x=~month
,color = ~country
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume Top 10 country monthly trend')
# load data
country002=read.csv('country002.csv')
country003=country002%>%group_by(country)%>%summarise(downloads=sum(downloads))
p=country003%>%top_n(10, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base download volume by Top 10 country')
library(tidyverse)
library(plotly)
library(lubridate)
# load data
version002=read.csv('version002.csv')
p=plot_ly(data=version002,y=~downloads,x=~month
,color = ~version
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume by version')
# load data
country002=read.csv('country002.csv')
country003=country002%>%group_by(country)%>%summarise(downloads=sum(downloads))
p=country003%>%top_n(10, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base download volume by Top 10 country')
# load data
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
p=plot_ly(data=country002,y=~downloads,x=~month
,color = ~country
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume Top 10 country monthly trend')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
p=plot_ly(data=country002,y=~downloads,x=~month
,color = ~Country
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume Top 10 country monthly trend')
# load data
country002=read.csv('country002.csv')
country003=country002%>%group_by(country)%>%summarise(downloads=sum(downloads))
p=country003%>%top_n(10, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base download volume by Top 10 country')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
country003=country002%>%group_by(Country)%>%summarise(downloads=sum(downloads))
p=country003%>%top_n(10, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base download volume by Top 10 country')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
country003=country002%>%group_by(Country)%>%summarise(downloads=sum(downloads))
p=country003%>%top_n(15, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base download volume by Top 10 country')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
country003=country002%>%group_by(Country)%>%summarise(downloads=sum(downloads))
p=country003%>%top_n(20, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base download volume by Top 10 country')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
country003=country002%>%group_by(Country)%>%summarise(downloads=sum(downloads))
p=country003%>%top_n(20, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base download volume by Top 10 country')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
country003=country002%>%group_by(Country)%>%summarise(downloads=sum(downloads))
glimpse(country003)
p=country003%>%top_n(20, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base download volume by Top 10 country')
blogdown:::new_post_addin()
blogdown:::serve_site()
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
country003=country002%>%group_by(Country)%>%summarise(downloads=sum(downloads))
glimpse(country003)
p=country003%>%top_n(10, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)
p=plot_ly(data=country002,y=~downloads,x=~month
#,color = ~Country
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume Top 10 country monthly trend')
# load data
library(readxl)
country001=read.csv('country002.csv')
iso_code=read_excel('ISO_Country_Codes.xlsx')
country002=country001%>%left_join(iso_code,by = c("country" ="Two_letter_Abbreviation"))%>%filter(is.na(Country)==FALSE)%>%group_by(month)%>%summarise(downloads=sum(downloads))
p=plot_ly(data=country002,y=~downloads,x=~month
#,color = ~Country
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume monthly trend')
data002= readRDS("data002.rds")
# load data
library(readxl)
country003=read.csv('country003.csv')
p=country003%>%top_n(10, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
# load data
library(tidyverse)
country003=read.csv('country003.csv')
p=country003%>%top_n(10, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
library(tidyverse)
library(plotly)
library(lubridate)
# load data
version002=read.csv('version002.csv')
p=plot_ly(data=version002,y=~downloads,x=~month
,color = ~version
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume by version')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
p=country003%>%top_n(10, wt = downloads)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(20, wt = downloads)
p=country004%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(20, wt = downloads)
p=country003%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(20, wt = downloads)
p=country003%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)
,color = ~year) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(20, wt = downloads)
p=country003%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)
,color = ~as.factor(year)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(20, wt = downloads)
p=country003%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)
,color = ~as.factor(year)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(10, wt = downloads)
p=country003%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)
,color = ~as.factor(year)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(15, wt = downloads)
p=country003%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)
,color = ~as.factor(year)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(10, wt = downloads)
p=country003%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)
,color = ~as.factor(year)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2018 R base total download volume by Top 10 country')
# load data
library(tidyverse)
country003=read.csv('country003.csv')
country004=country003%>%group_by(Country)%>%summarise(downloads=sum(downloads))%>%
top_n(10, wt = downloads)
p=country003%>%filter(Country %in% country004$Country)%>%
plot_ly(x = ~downloads, y = ~fct_reorder(Country, downloads)
,color = ~as.factor(year)) %>%
add_markers() %>%
layout(xaxis = list(title = "downloads"),
yaxis = list(title = "Country", type = "category"))
p%>%layout(title = '2017,2018 R base total download volume by Top 10 country')
library(tidyverse)
library(plotly)
library(lubridate)
# load data
version002=read.csv('version002.csv')
p=plot_ly(data=version002,y=~downloads,x=~month
,color = ~version
,type = 'scatter', mode = 'lines+markers')
p%>%layout(title = '2018 R base download volume by version')
blogdown:::serve_site()
